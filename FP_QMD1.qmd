---
title: "FP_QMD1"
format: html
editor: visual
---

## Geographic EDA (Riya)

This section explores geographic differences in COVID-19 spread across U.S. states.\
We highlight which states had the highest overall case counts and visualize how the pandemic evolved across the most affected states.

{r}
# ---- Riya Feature Engineering ----
# Add new_cases column (simple feature)

covid_states <- covid_states |>
  group_by(state) |>
  arrange(date) |>
  mutate(new_cases = cases - lag(cases)) |>
  ungroup()

# Top 10 states by total cases
top_states <- dataset_overview |>
  slice_head(n = 10)

# Table for Top 10 states
top_states |>
  kable(
    caption = "Table 2: Top 10 U.S. states with the highest total COVID-19 cases."
  )

{r}
# ---- Riya Geographic Plot ----

top_plot_data <- covid_states |>
  filter(state %in% top_states$state)

ggplot(top_plot_data, aes(x = date, y = cases, color = state)) +
  geom_line() +
  labs(
    title   = "COVID-19 Trends for Top 10 U.S. States by Total Cases",
    x       = "Date",
    y       = "Cumulative Cases",
    caption = "Data source: NYTimes us-states.csv"
  ) +
  theme_minimal()


